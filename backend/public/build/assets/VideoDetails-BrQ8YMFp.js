import{b as h,j as e,H as g,L as x,r as j}from"./app-BkCCCkwf.js";import{P as y,C as p}from"./PortalLayout-BmvPzEnQ.js";import{A as w}from"./arrow-left-BkJ_7woB.js";import{E as N}from"./eye-taG95x7p.js";import{c as d}from"./user-check-Cv7KarUh.js";import{S as v}from"./star-CIklCK8n.js";const z=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k=d("check",z);const C=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_=d("copy",C);const R=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],$=d("facebook",R);const S=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],M=d("linkedin",S);const L=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],T=d("share-2",L);const A=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],I=d("twitter",A);function E({rating:t,onRate:o,interactive:l=!0}){const[r,c]=h.useState(null),a=r??t??0;return e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(i=>e.jsx("button",{type:"button",disabled:!l,onClick:()=>l&&o?.(i),onMouseEnter:()=>l&&c(i),onMouseLeave:()=>c(null),className:`transition-transform ${l?"hover:scale-110 cursor-pointer":"cursor-default"}`,children:e.jsx(v,{size:28,className:`transition-colors ${i<=a?"text-yellow-500 fill-yellow-500":"text-zinc-600"}`})},i))})}function H({isOpen:t,onClose:o,videoTitle:l,videoUrl:r}){const[c,a]=h.useState(!1);if(!t)return null;const i=`Confira "${l}" no Maratonei!`,m=encodeURIComponent(i),s=encodeURIComponent(r),u=[{name:"Facebook",icon:$,url:`https://www.facebook.com/sharer/sharer.php?u=${s}`,color:"hover:bg-blue-600"},{name:"Twitter",icon:I,url:`https://twitter.com/intent/tweet?text=${m}&url=${s}`,color:"hover:bg-sky-500"},{name:"LinkedIn",icon:M,url:`https://www.linkedin.com/sharing/share-offsite/?url=${s}`,color:"hover:bg-blue-700"}],f=async()=>{try{await navigator.clipboard.writeText(r),a(!0),setTimeout(()=>a(!1),2e3)}catch{const n=document.createElement("textarea");n.value=r,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),a(!0),setTimeout(()=>a(!1),2e3)}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:o}),e.jsxs("div",{className:"relative bg-zinc-900 border border-zinc-800 rounded-xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Compartilhar"}),e.jsx("div",{className:"flex justify-center gap-4 mb-6",children:u.map(n=>{const b=n.icon;return e.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`w-14 h-14 bg-zinc-800 rounded-full flex items-center justify-center text-zinc-400 ${n.color} hover:text-white transition-all`,children:e.jsx(b,{size:24})},n.name)})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",readOnly:!0,value:r,className:"flex-1 bg-zinc-800 border-none rounded-lg px-4 py-3 text-white text-sm"}),e.jsx("button",{onClick:f,className:`px-4 rounded-lg font-bold transition-all ${c?"bg-green-600 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:c?e.jsx(k,{size:20}):e.jsx(_,{size:20})})]}),e.jsx("button",{onClick:o,className:"w-full mt-4 bg-zinc-800 hover:bg-zinc-700 text-white py-3 rounded-lg font-bold transition-colors",children:"FECHAR"})]})]})}function F({video:t}){return e.jsxs(x,{href:route("portal.video",t.id),className:"group flex gap-3",children:[e.jsxs("div",{className:"relative w-40 aspect-video rounded-lg overflow-hidden flex-shrink-0 border border-zinc-800 group-hover:border-red-600/50 transition-all",children:[e.jsx("img",{src:t.thumbnail||"https://via.placeholder.com/160x90",alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),t.is_rated&&e.jsx("div",{className:"absolute top-1 right-1 bg-green-600 rounded-full p-0.5",children:e.jsx(p,{size:12,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-white text-sm line-clamp-2 group-hover:text-red-500 transition-colors",children:t.title}),t.expert&&e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:t.expert.name})]})]})}function U({video:t,relatedVideos:o}){const[l,r]=h.useState(!1),[c,a]=h.useState(!1),i=s=>{a(!0),j.post(route("portal.video.rate",t.id),{rate:s},{preserveScroll:!0,onFinish:()=>a(!1)})},m=typeof window<"u"?window.location.href:"";return e.jsxs(y,{children:[e.jsx(g,{title:`${t.title} - Maratonei!`}),e.jsxs("div",{className:"p-8",children:[e.jsxs(x,{href:route("portal.home"),className:"inline-flex items-center gap-2 text-zinc-400 hover:text-white mb-6 transition-colors",children:[e.jsx(w,{size:20}),"Voltar"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"relative aspect-video bg-zinc-900 rounded-xl overflow-hidden border border-zinc-800 mb-6",children:e.jsx("iframe",{src:t.embed_url,title:t.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-zinc-500 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{size:16}),e.jsxs("span",{children:[t.views.toLocaleString()," visualizações"]})]}),t.expert&&e.jsxs(x,{href:route("portal.expert",t.expert.id),className:"flex items-center gap-2 hover:text-red-500 transition-colors",children:[e.jsx("img",{src:t.expert.image||`https://i.pravatar.cc/40?u=${t.expert.id}`,alt:t.expert.name,className:"w-6 h-6 rounded-full"}),e.jsx("span",{children:t.expert.name})]}),t.trail&&e.jsx(x,{href:route("portal.trail",t.trail.id),className:"text-purple-400 hover:text-purple-300 transition-colors",children:t.trail.name})]}),t.categories.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.categories.map(s=>e.jsx("span",{className:"text-xs px-3 py-1 bg-zinc-800 rounded-full text-zinc-400",children:s.name},s.id))}),t.description&&e.jsxs("div",{className:"border-t border-zinc-800 pt-6",children:[e.jsx("h3",{className:"text-sm font-bold text-zinc-500 uppercase mb-2",children:"Descrição"}),e.jsx("div",{className:"text-zinc-300 prose prose-invert prose-sm max-w-none prose-a:text-red-500 prose-a:hover:text-red-400",dangerouslySetInnerHTML:{__html:t.description}})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Avalie este vídeo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(E,{rating:t.user_rating,onRate:i,interactive:!c}),t.user_rating&&e.jsxs("span",{className:"text-green-500 flex items-center gap-1 text-sm",children:[e.jsx(p,{size:16}),"Avaliado"]})]}),c&&e.jsx("p",{className:"text-sm text-zinc-500 mt-2",children:"Salvando..."})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Compartilhar"}),e.jsxs("button",{onClick:()=>r(!0),className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(T,{size:20}),"COMPARTILHAR"]})]}),o.length>0&&e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Vídeos Relacionados"}),e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsx(F,{video:s},s.id))})]})]})]})]}),e.jsx(H,{isOpen:l,onClose:()=>r(!1),videoTitle:t.title,videoUrl:m})]})}export{U as default};
